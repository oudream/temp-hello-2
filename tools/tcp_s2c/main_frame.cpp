#include <cxstring.h>


using namespace std;

#define DEFAULT_BACKLOG 0x200
#define IO_BUFFER_SIZE 0x1001

typedef struct uv_stream_s uv_stream_t;

class RecvThread;

struct RecvTask {
    RecvTask():client(NULL),size(0),time(0),index(0),thread(NULL){
        memset(buffer,0,IO_BUFFER_SIZE*2);
    }
    ~RecvTask() {}
    uv_stream_t* client;
    unsigned char buffer[IO_BUFFER_SIZE*2];
    size_t  size;
    long long time;
    size_t index;
    RecvThread *thread;

};

static RecvTask f_recvTask;

static void fetchFrame(const unsigned char *buf, int len, RecvTask *task)
{
#define PACKET_HEAD 0x7B7B
#define PACKET_TAIL 0x7D7D
    //
    size_t index = task->index;
    size_t length = index + len;
    unsigned char *pBegin = &task->buffer[index];
    memcpy(pBegin, buf, len);
    unsigned char *pEnd = pBegin + len -1;
    unsigned char *p = pBegin;
    unsigned char *pHead = index > 0 ? task->buffer : NULL;
    unsigned char *pTail = NULL;
    while (p < pEnd)
    {
        if (pHead != NULL)
        {
            if (*((unsigned short *)p) == PACKET_TAIL)
            {
                pTail = p;
                // send
                cout << CxString::toHexstring(pHead, pTail - pHead + 2) << endl;
                pHead = NULL;
                pTail = NULL;
            }
        }
        else
        {
            if (*((unsigned short *)p) == PACKET_HEAD)
            {
                // send
                pHead = p;
                pTail = NULL;
            }
        }
        p++;
    }
    if (pHead != NULL)
    {
        size_t n = (pBegin + len)-pHead;
        if (n < IO_BUFFER_SIZE)
        {
            memcpy(&task->buffer[0], pHead, n);
            task->index = n;
        }
        else
        {
            task->index = 0;
        }
    }
    else
    {
        task->index = 0;
    }
}

int main(int argc, char **argv)
{
    char *packets[] = {
            "7b 7b 84 5a 48 59 44 54 45 53 54 30 30 30 30 30 31 00 00 00 00 00 00 38 39 38 36 30 32 42 35 30 39 31 36 30 30 33 30 33 36 32 32 00 00 00 00 00 00 00 00 00 00 1a 01 00 01 00 01 00 02 25 d7 7d 7d ",
            "90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e ",
            "90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e ",
            "90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e ",
            "90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e ",
            "90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e ",
            "7b 7b 84 bf 23 7d 7d aa cc 7b 7b 84 bf ",
            "7b 7b 84 bf 23 7d 7d aa cc 7b 7b 84 bf ",
            "7b 7b 84 bf 23 7d 7d aa cc 7b 7b 84 bf ",
            "bf 23 7d 7d aa 7b 7b 89 5b 5b 31 2d 31 28 28 01 03 1a 08 98 13 88 00 01 00 01 00 00 04 b0 00 0a 00 00 03 20 00 0a 00 00 04 b0 00 64 2b 40 29 29 5d 5d 5b 5b 31 2d 32 28 28 01 03 48 00 00 00 00 00 00 00 00 01 2c 00 3c 00 3c 00 3c 00 3c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 00 32 00 0a 00 0a 00 0a 00 0a 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 a1 50 29 29 5d 5d ed 5d 7d 7d bf 23 7d 7d aa 7b 7b 89 5b 5b 31 2d 31 28 28 01 03 1a 08 98 13 88 00 01 00 01 00 00 04 b0 00 0a 00 00 03 20 00 0a 00 00 04 b0 00 64 2b 40 29 29 5d 5d 5b 5b 31 2d 32 28 28 01 03 48 00 00 00 00 00 00 00 00 01 2c 00 3c 00 3c 00 3c 00 3c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 00 32 00 0a 00 0a 00 0a 00 0a 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 a1 50 29 29 5d 5d ed 5d 7d 7d bf 23 7d 7d aa 7b 7b 89 5b 5b 31 2d 31 28 28 01 03 1a 08 98 13 88 00 01 00 01 00 00 04 b0 00 0a 00 00 03 20 00 0a 00 00 04 b0 00 64 2b 40 29 29 5d 5d 5b 5b 31 2d 32 28 28 01 03 48 00 00 00 00 00 00 00 00 01 2c 00 3c 00 3c 00 3c 00 3c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 00 32 00 0a 00 0a 00 0a 00 0a 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 a1 50 29 29 5d 5d ed 5d 7d 7d bf 23 7d 7d aa 7b 7b 89 5b 5b 31 2d 31 28 28 01 03 1a 08 98 13 88 00 01 00 01 00 00 04 b0 00 0a 00 00 03 20 00 0a 00 00 04 b0 00 64 2b 40 29 29 5d 5d 5b 5b 31 2d 32 28 28 01 03 48 00 00 00 00 00 00 00 00 01 2c 00 3c 00 3c 00 3c 00 3c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 01 2c 00 32 00 0a 00 0a 00 0a 00 0a 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 00 32 a1 50 29 29 5d 5d ed 5d 7d 7d ",
            "7b 7b 90 01 03 34 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 9b f2 77 33 7d 7d",
            "7b 7b 90 01 03 54 00 1e 00 00 00 00 00 00 00 00 00 00 f8 30 f8 30 f8 30 f8 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 08 00 00 00 00 00 38 6e 8c 5e 7d 7d"
    };
    int packetCount = sizeof(packets) / sizeof(char *);
    RecvTask *task = &f_recvTask;
    for (int i = 0; i < packetCount; ++i)
    {
        char *packet = packets[i];
        vector<unsigned char> data = CxString::fromHexstring(packet);
        if (data.size() > 0)
        {
            fetchFrame(&data.front(), data.size(), task);
        }
    }

    return 0;
}
